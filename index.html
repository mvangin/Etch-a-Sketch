<!DOCTYPE html>
<html>

<head>
    <title> Etch-A-Sketch</title>
    <link href="styles/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
</head>

<body>
    <div class="mainGrid">
        <div class="leftDiv">
            <p>
                ETCH A SKETCH
            </p>
            

        </div>

        <div class="centerDiv">

            <div class="sketchButtons">
                <span>
                    <button class="newGridDimensions sketchAlter"> Grid </button>
                    <input type="color" class="inputColor" value="#FFFFFF">
                    <button class="newSketch sketchAlter"> Reset </button>

                </span>



            </div>

            <div class="gridContainer">
                
            </div>
        </div>

        <div class="rightDiv">
            <p>
                Choose your Color!
            </p>
            
        </div>

    </div>
<div class="author">
    Project by Marcus Van Ginkel
</div>

</body>

<script>
    const gridContainer = document.querySelector(".gridContainer");
    const newGridDimensions = document.querySelector(".newGridDimensions");
    const newSketch = document.querySelector(".newSketch");
    const inputColor = document.querySelector(".inputColor");

    dimensions(16);


    newGridDimensions.addEventListener("click", () => {
        let dimension = newGridPrompt();
        dimensions(dimension);

        let allDivs = gridContainer.querySelectorAll('div');
        allDivs.forEach((div) => {
            div.addEventListener('mouseover', () => {
                div.style.background = "white";
            })

        })

    });



    newSketch.addEventListener("click", () => {

        let allDivs = gridContainer.querySelectorAll('div');
        allDivs.forEach((div) => {
            div.style.background = "black";
        })

    })





    function newGridPrompt() {
        let dimensionInput = prompt(`Please enter new grid dimensions (eg. "16" = 16x16 new grid), 16`);
        gridContainer.innerHTML = "";
        gridContainer.style.cssText = `grid-template-columns: repeat(${dimensionInput}, auto)`;
        return dimensionInput;
    }


    function dimensions(dimension) {
        let gridFull = dimension * dimension
        for (let i = 0; i < gridFull; i++) {

            const gridDiv = document.createElement('div');


            gridContainer.appendChild(gridDiv);
        }
    }



    inputColor.addEventListener("click", () => {
        let allDivs = gridContainer.querySelectorAll('div');
        allDivs.forEach((div) => {
            div.addEventListener('mouseover', () => {
                div.style.background = inputColor.value;
            })

        })

    });





    //window.addEventListener('keydown', keyEffects); 
    //press x to prevent dranwing press again to restart drawing
    //function keyEffects(e) {
        // if e.keyCode == "88" 
    //}




</script>

</html>